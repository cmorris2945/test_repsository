<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Breast Cancer Patient Questionnaire</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='css/styles.css') }}">
</head>
<body>
    <nav>
        <div class="logo">
            <img src="{{ url_for('static', filename='images/logo.jpg') }}" alt="Logo" class="logo-img">
        </div>
        <ul>
            <li><a href="#home">Home</a></li>
            <li><a href="#about">About</a></li>
            <li><a href="#contact">Contact</a></li>
        </ul>
    </nav>

    <div class="container">
        <h1>Breast Cancer Patient Questionnaire</h1>
        
        <!-- Consent Document Section -->
        <div id="consentForm" class="consent-form">
            <h2>Consent Document</h2>
            <p>Please read the following consent document carefully:</p>
            <embed src="{{ url_for('static', filename='consent_form.pdf') }}" type="application/pdf" width="100%" height="600px" />
            <div class="consent-content">
                <p>I understand that by completing this questionnaire, I am providing information to assist in my breast cancer care. I acknowledge that:</p>
                <ul>
                    <li>The information I provide will be used to tailor my care plan.</li>
                    <li>My data will be kept confidential and secure.</li>
                    <li>I can choose not to answer any question I'm not comfortable with.</li>
                    <li>I can withdraw my consent at any time by contacting my healthcare provider.</li>
                </ul>
                <p>By signing below, I confirm that I have read and understood this consent document and agree to participate in the questionnaire.</p>
            </div>
            <div class="form-group">
                <label for="consentName">Full Name:</label>
                <input type="text" id="consentName" name="consentName" required>
            </div>
            <div class="form-group">
                <label for="consentDate">Date:</label>
                <input type="date" id="consentDate" name="consentDate" required>
            </div>
            <button id="agreeConsent" class="btn-primary">I Agree and Give My Consent</button>
        </div>

        <form id="patientForm" method="POST" style="display: none;">
            <div class="progress-bar">
                <div id="form-progress" class="progress"></div>
            </div>

            <div class="form-group">
                <label for="name">Full Name:</label>
                <input type="text" id="name" name="name" required>
            </div>

            <div class="form-group">
                <label for="age">Age:</label>
                <input type="number" id="age" name="age" required>
            </div>

            <div class="form-group">
                <label for="stage">Cancer Stage:</label>
                <select id="stage" name="stage" required>
                    <option value="">Select Stage</option>
                    <option value="0">Stage 0</option>
                    <option value="1">Stage I</option>
                    <option value="2">Stage II</option>
                    <option value="3">Stage III</option>
                    <option value="4">Stage IV</option>
                </select>
            </div>

            <div class="form-group">
                <label for="previous_treatments">Previous Treatments (if any):</label>
                <textarea id="previous_treatments" name="previous_treatments"></textarea>
            </div>

            <div class="form-group">
                <label for="preferred_language">Preferred Language:</label>
                <input type="text" id="preferred_language" name="preferred_language">
            </div>

            <div class="form-group">
                <label for="location">Location (City, State):</label>
                <input type="text" id="location" name="location" required>
            </div>

            <div class="form-group">
                <label>Family History of Breast Cancer:</label>
                <div class="radio-group">
                    <div class="radio-item">
                        <input type="radio" id="family_history_yes" name="family_history" value="yes">
                        <label for="family_history_yes">Yes</label>
                    </div>
                    <div class="radio-item">
                        <input type="radio" id="family_history_no" name="family_history" value="no">
                        <label for="family_history_no">No</label>
                    </div>
                    <div class="radio-item">
                        <input type="radio" id="family_history_unknown" name="family_history" value="unknown">
                        <label for="family_history_unknown">Unknown</label>
                    </div>
                </div>
            </div>
            
            <div class="form-group">
                <label>Have you had genetic testing?</label>
                <div class="radio-group">
                    <div class="radio-item">
                        <input type="radio" id="genetic_testing_yes" name="genetic_testing" value="yes">
                        <label for="genetic_testing_yes">Yes</label>
                    </div>
                    <div class="radio-item">
                        <input type="radio" id="genetic_testing_no" name="genetic_testing" value="no">
                        <label for="genetic_testing_no">No</label>
                    </div>
                    <div class="radio-item">
                        <input type="radio" id="genetic_testing_unsure" name="genetic_testing" value="unsure">
                        <label for="genetic_testing_unsure">Unsure</label>
                    </div>
                </div>
            </div>
            <div id="optional-questions" class="section">
                <h2>Optional Questions</h2>

                <div class="form-group">
                    <label for="religion">What is your religion?</label>
                    <select id="religion" name="religion">
                        <option value="">Select</option>
                        <option value="catholic">Catholic</option>
                        <option value="jewish">Jewish</option>
                        <option value="muslim">Muslim</option>
                        <option value="protestant">Protestant</option>
                        <option value="other">Other</option>
                    </select>
                </div>

                <div class="form-group">
                    <label for="immigration_status">Immigration Status:</label>
                    <select id="immigration_status" name="immigration_status">
                        <option value="">Select</option>
                        <option value="citizen">Citizen</option>
                        <option value="non-citizen">Non-citizen</option>
                        <option value="resident">Resident</option>
                        <option value="other">Other</option>
                    </select>
                </div>

                <div class="form-group">
                    <label>Do you need social support?</label>
                    <div class="radio-group">
                        <div class="radio-item">
                            <input type="radio" id="social_support_yes" name="social_support" value="yes">
                            <label for="social_support_yes">Yes</label>
                        </div>
                        <div class="radio-item">
                            <input type="radio" id="social_support_no" name="social_support" value="no">
                            <label for="social_support_no">No</label>
                        </div>
                    </div>
                </div>
                
                <div class="form-group">
                    <label>Are you looking for any specific qualities in your doctor?</label>
                    <div class="checkbox-group">
                        <div class="checkbox-item">
                            <input type="checkbox" id="doctor_quality_patience" name="doctor_qualities" value="patience">
                            <label for="doctor_quality_patience">Patience</label>
                        </div>
                        <div class="checkbox-item">
                            <input type="checkbox" id="doctor_quality_time" name="doctor_qualities" value="time">
                            <label for="doctor_quality_time">Time with Patient</label>
                        </div>
                        <div class="checkbox-item">
                            <input type="checkbox" id="doctor_quality_bedside" name="doctor_qualities" value="bedside">
                            <label for="doctor_quality_bedside">Personality and Bedside Manner</label>
                        </div>
                        <div class="checkbox-item">
                            <input type="checkbox" id="doctor_quality_communication" name="doctor_qualities" value="communication">
                            <label for="doctor_quality_communication">Clear Communication</label>
                        </div>
                        <div class="checkbox-item">
                            <input type="checkbox" id="doctor_quality_other" name="doctor_qualities" value="other">
                            <label for="doctor_quality_other">Other</label>
                        </div>
                    </div>
                </div>

            <div id="help_today_section" style="display:none;">
                <label for="help_today">How can I help you today?</label>
                <select id="help_today" name="help_today" onchange="handleHelpChange()">
                    <option value="">Select</option>
                    <option value="Assess Risk of Cancer">Assess Risk of Cancer</option>
                    <option value="Newly Diagnosed with Cancer">Newly Diagnosed with Cancer</option>
                    <option value="Advanced Cancer with Metastasis or Complications">Advanced Cancer with Metastasis or Complications</option>
                    <option value="Other">Other</option>
                </select>

                <div id="help_options" style="display:none;">
                    <p>I know this is a difficult time for you. Let me help you more if I can.</p>
                    <label for="help_option">Select an option:</label>
                    <input type="radio" id="help_diagnosis" name="help_option" value="Help with Diagnosis" onclick="handleHelpOptionChange()"> Help with Diagnosis
                    <input type="radio" id="help_info" name="help_option" value="Read educational info about diagnosis" onclick="handleHelpOptionChange()"> Read educational info about diagnosis
                    <input type="radio" id="help_social_worker" name="help_option" value="Talk to a Social Worker" onclick="handleHelpOptionChange()"> Talk to a Social Worker
                    <input type="radio" id="help_other" name="help_option" value="Other" onclick="handleHelpOptionChange()"> Other
                </div>

                <div id="second_opinion" style="display:none;">
                    <label for="second_opinion">Do you need help finding a second opinion?</label>
                    <input type="radio" id="second_opinion_yes" name="second_opinion" value="yes" onclick="handleSecondOpinionChange()"> Yes
                    <label for="second_opinion_yes">Yes</label>
                    <input type="radio" id="second_opinion_no" name="second_opinion" value="no" onclick="handleSecondOpinionChange()"> No
                </div>

                <div id="started_treatment" style="display:none;">
                    <label for="started_treatment">Have you started treatment?</label>
                    <input type="radio" id="started_treatment_yes" name="started_treatment" value="yes" onclick="handleTreatmentChange()"> Yes
                    <input type="radio" id="started_treatment_no" name="started_treatment" value="no" onclick="handleTreatmentChange()"> No
                </div>

                <div id="additional_info" style="display:none;">
                    <label for="zip_code">What is your zip code?</label>
                    <input type="text" id="zip_code" name="zip_code">

                    <label for="insurance_name">What is your insurance name?</label>
                    <input type="text" id="insurance_name" name="insurance_name">
                </div>

                <div id="gender_selection" style="display:none;">
                    <label for="gender">Are you a biological male or female?</label>
                    <input type="radio" id="gender_male" name="gender" value="male" onclick="handleGenderChange()"> Male
                    <input type="radio" id="gender_female" name="gender" value="female" onclick="handleGenderChange()"> Female
                </div>

                <div id="ehr_sync" style="display:none;">
                    <p>Synching EHR records...</p>
                </div>

                <div id="confirm_info" style="display:none;">
                    <label for="confirm_info">Is this information correct?</label>
                    <input type="radio" id="confirm_info_yes" name="confirm_info" value="yes" onclick="handleConfirmInfoChange()"> Yes
                    <input type="radio" id="confirm_info_no" name="confirm_info" value="no" onclick="handleConfirmInfoChange()"> No
                </div>
            </div>

            <!-- Other Questions -->
            <div class="form-group">
                <label for="additional_concerns">Any additional concerns or preferences:</label>
                <textarea id="additional_concerns" name="additional_concerns" rows="3"></textarea>
            </div>

            <div id="social_support_section" style="display:none;">
                <h2>Social Support</h2>
                <label for="social_support_status">What is your social support status?</label>
                <select id="social_support_status" name="social_support_status">
                    <option value="">Select</option>
                    <option value="Need additional support">Need additional support</option>
                    <option value="Adequate current support">Adequate current support</option>
                    <option value="Don't have social support">Don't have social support</option>
                    <option value="Not sure">Not sure</option>
                    <option value="Prefer not to say">Prefer not to say</option>
                </select>

                <label for="physician_experience">Physician/Healthcare Oncologist Experience:</label>
                <select id="physician_experience" name="physician_experience">
                    <option value="">Select</option>
                    <option value="1-5">1-5 years</option>
                    <option value="5-10">5-10 years</option>
                    <option value="10+">10+ years</option>
                </select>

                <label for="treatment_cases">Treatment of Similar Cases:</label>
                <select id="treatment_cases" name="treatment_cases">
                    <option value="">Select</option>
                    <option value="1-10">1-10 cases</option>
                    <option value="10-30">10-30 cases</option>
                    <option value="30+">30+ cases</option>
                </select>

                <label for="patient_satisfaction">Patient Satisfaction Score:</label>
                <select id="patient_satisfaction" name="patient_satisfaction">
                    <option value="">Select</option>
                    <option value="<2"><2</option>
                    <option value="2-5">2-5</option>
                    <option value="5-7">5-7</option>
                    <option value="7-10">7-10</option>
                </select>

                <label for="appointment_wait_time">Appointment Wait Time (hrs):</label>
                <select id="appointment_wait_time" name="appointment_wait_time">
                    <option value="">Select</option>
                    <option value="<1"><1</option>
                    <option value="1-3">1-3</option>
                    <option value=">3">>3</option>
                </select>

                <label for="proximity">Proximity (miles):</label>
                <select id="proximity" name="proximity">
                    <option value="">Select</option>
                    <option value="<2"><2 miles</option>
                    <option value="2-5">2-5 miles</option>
                    <option value="5+">5+ miles</option>
                </select>

                <label for="treatment_approach">Treatment Approach:</label>
                <select id="treatment_approach" name="treatment_approach">
                    <option value="">Select</option>
                    <option value="Standard medical care">Standard medical care</option>
                    <option value="Conservative treatment approach">Conservative treatment approach</option>
                    <option value="Newer treatment modalities">Newer treatment modalities</option>
                    <option value="Clinical trials or experimental treatments">Clinical trials or experimental treatments</option>
                    <option value="Complementary and alternative healing">Complementary and alternative healing</option>
                    <option value="Integrative or holistic approach">Integrative or holistic approach</option>
                    <option value="I want to know more">I want to know more</option>
                </select>
            </div>

            <div class="form-group">
                <label for="schedule_appointment">Do you want me to call and schedule an appointment?</label>
                <input type="radio" id="schedule_appointment_yes" name="schedule_appointment" value="yes"> Yes
                <input type="radio" id="schedule_appointment_no" name="schedule_appointment" value="no"> No
            </div>

            <div class="form-group">
                <label for="schedule_transportation">Schedule transportation?</label>
                <input type="radio" id="schedule_transportation_yes" name="schedule_transportation" value="yes"> Yes
                <input type="radio" id="schedule_transportation_no" name="schedule_transportation" value="no"> No
                <input type="radio" id="schedule_transportation_later" name="schedule_transportation" value="later"> Later
            </div>

            <div id="transportation_status" style="display:none;">
                <p>Scheduling transportation...</p>
            </div>

            <input type="submit" value="Submit">
        </form>
    </div>

    <!-- Script section -->
    <script>
        // JavaScript for handling consent text update
        document.getElementById('name').addEventListener('input', function() {
            var name = document.getElementById('name').value;
            var consentText = document.getElementById('consent-text');
            if (name) {
                consentText.textContent = 'By clicking "Yes," I, ' + name + ', give my informed consent to the telemedicine consultation.';
            } else {
                consentText.textContent = 'By clicking "Yes," I, [Your Name], give my informed consent to the telemedicine consultation.';
            }
        });
    </script>
    <script src="{{ url_for('static', filename='js/script.js') }}"></script>
</body>
</html>
